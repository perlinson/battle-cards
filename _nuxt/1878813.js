(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{251:function(e,t,r){"use strict";r.r(t);var l=r(3),o=(r(24),r(25),{layout:"AuthLayout",data:function(){return{dialog:!0,tab:0,tabs:[{name:"Login",icon:"mdi-account"},{name:"Register",icon:"mdi-account-outline"}],valid:!0,firstName:"",lastName:"",email:"",password:"",verify:"",loginPassword:"",loginEmail:"",loginEmailRules:[function(e){return!!e||"Required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],emailRules:[function(e){return!!e||"Required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],show1:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e&&e.length>=6||"Min 6 characters"}}}},computed:{passwordMatch:function(){var e=this;return function(){return e.password===e.verify||"Password must match"}}},methods:{login:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var r,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,console.log("this.$config.masterKey",e.$config),!e.$refs.loginForm.validate()){t.next=7;break}return t.next=5,e.$auth.loginWith("local",{auth:{username:r.loginEmail,password:r.loginPassword},data:{access_token:e.$config.masterKey}}).catch((function(e){console.log(e)}));case 5:l=t.sent,console.log(l);case 7:case"end":return t.stop()}}),t)})))()},register:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.registerForm.validate()){t.next=5;break}return t.next=3,e.$auth.registerWith("local",{data:{email:e.email,password:e.password,access_token:e.$config.masterKey}}).catch((function(e){console.log(e)}));case 3:r=t.sent,console.log(r);case 5:case"end":return t.stop()}}),t)})))()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}}),n=r(15),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":"600px","min-width":"360px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("div",[r("v-tabs",{attrs:{"show-arrows":"","background-color":"deep-purple accent-4","icons-and-text":"",dark:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tabs-slider",{attrs:{color:"black darken-4"}}),e._v(" "),e._l(e.tabs,(function(i,t){return r("v-tab",{key:t},[r("v-icon",{attrs:{large:""}},[e._v(e._s(i.icon))]),e._v(" "),r("div",{staticClass:"caption py-1"},[e._v(e._s(i.name))])],1)})),e._v(" "),r("v-tab-item",[r("v-card",{staticClass:"px-4"},[r("v-card-text",[r("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.loginEmailRules,label:"E-mail",required:""},model:{value:e.loginEmail,callback:function(t){e.loginEmail=t},expression:"loginEmail"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{"append-icon":e.show1?"eye":"eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.loginPassword,callback:function(t){e.loginPassword=t},expression:"loginPassword"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6",xsm:"12"}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3",xsm:"12","align-end":""}},[r("v-btn",{attrs:{"x-large":"",block:"",disabled:!e.valid,color:"success"},on:{click:e.login}},[e._v("\n                    登录\n                  ")])],1)],1)],1)],1)],1)],1),e._v(" "),r("v-tab-item",[r("v-card",{staticClass:"px-4"},[r("v-card-text",[r("v-form",{ref:"registerForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{rules:[e.rules.required],label:"First Name",maxlength:"20",required:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{rules:[e.rules.required],label:"Last Name",maxlength:"20",required:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 6 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{block:"","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.passwordMatch],type:e.show1?"text":"password",name:"input-10-1",label:"Confirm Password",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.verify,callback:function(t){e.verify=t},expression:"verify"}})],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-col",{staticClass:"d-flex ml-auto",attrs:{cols:"12",sm:"3",xsm:"12"}},[r("v-btn",{attrs:{"x-large":"",block:"",disabled:!e.valid,color:"success"},on:{click:e.register}},[e._v("注册")])],1)],1)],1)],1)],1)],1)],2)],1)])}),[],!1,null,null,null);t.default=component.exports}}]);