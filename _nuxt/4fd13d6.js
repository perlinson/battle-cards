(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{508:function(t,e,r){"use strict";var n=r(1),o=(r(36),r(52),r(236),r(13),r(6),r(17),r(66),r(79),r(15),r(11),r(20),r(21),r(29)),l=r(142),c=r(237);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(o.a)(l.a,Object(c.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},r={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?r.shouldValidate=input.$watch("shouldValidate",(function(n){n&&(t.errorBag.hasOwnProperty(input._uid)||(r.valid=e(input)))})):r.valid=e(input),r},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:f({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},633:function(t,e,r){"use strict";r.r(e);var n=r(4),o=(r(43),r(18),{layout:"AuthLayout",data:function(){return{dialog:!0,tab:0,tabs:[{name:"Login",icon:"mdi-account"},{name:"Register",icon:"mdi-account-outline"}],valid:!0,firstName:"",lastName:"",email:"",password:"",verify:"",loginPassword:"",loginEmail:"",loginEmailRules:[function(t){return!!t||"Required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],emailRules:[function(t){return!!t||"Required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],show1:!1,rules:{required:function(t){return!!t||"Required."},min:function(t){return t&&t.length>=6||"Min 6 characters"}}}},computed:{passwordMatch:function(){var t=this;return function(){return t.password===t.verify||"Password must match"}}},methods:{login:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,console.log("this.$config.masterKey",t.$config),!t.$refs.loginForm.validate()){e.next=7;break}return e.next=5,t.$auth.loginWith("local",{auth:{username:r.loginEmail,password:r.loginPassword},data:{access_token:t.$config.masterKey}}).catch((function(t){console.log(t)}));case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})))()},register:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.registerForm.validate()){e.next=5;break}return e.next=3,t.$auth.registerWith("local",{data:{email:t.email,password:t.password,access_token:t.$config.masterKey}}).catch((function(t){console.log(t)}));case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e)})))()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}}),l=r(41),c=r(68),d=r.n(c),f=r(459),m=r(480),v=r(479),h=r(472),w=r(646),x=r(508),y=r(225),_=r(473),k=r(474),O=r(616),V=r(648),E=r(647),$=r(589),j=r(509),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{persistent:"","max-width":"600px","min-width":"360px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("div",[r("v-tabs",{attrs:{"show-arrows":"","background-color":"deep-purple accent-4","icons-and-text":"",dark:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[r("v-tabs-slider",{attrs:{color:"black darken-4"}}),t._v(" "),t._l(t.tabs,(function(i,e){return r("v-tab",{key:e},[r("v-icon",{attrs:{large:""}},[t._v(t._s(i.icon))]),t._v(" "),r("div",{staticClass:"caption py-1"},[t._v(t._s(i.name))])],1)})),t._v(" "),r("v-tab-item",[r("v-card",{staticClass:"px-4"},[r("v-card-text",[r("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:t.loginEmailRules,label:"E-mail",required:""},model:{value:t.loginEmail,callback:function(e){t.loginEmail=e},expression:"loginEmail"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{"append-icon":t.show1?"eye":"eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.loginPassword,callback:function(e){t.loginPassword=e},expression:"loginPassword"}})],1),t._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6",xsm:"12"}}),t._v(" "),r("v-spacer"),t._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3",xsm:"12","align-end":""}},[r("v-btn",{attrs:{"x-large":"",block:"",disabled:!t.valid,color:"success"},on:{click:t.login}},[t._v("\n                    登录\n                  ")])],1)],1)],1)],1)],1)],1),t._v(" "),r("v-tab-item",[r("v-card",{staticClass:"px-4"},[r("v-card-text",[r("v-form",{ref:"registerForm",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{rules:[t.rules.required],label:"First Name",maxlength:"20",required:""},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{rules:[t.rules.required],label:"Last Name",maxlength:"20",required:""},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 6 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{block:"","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.passwordMatch],type:t.show1?"text":"password",name:"input-10-1",label:"Confirm Password",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.verify,callback:function(e){t.verify=e},expression:"verify"}})],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-col",{staticClass:"d-flex ml-auto",attrs:{cols:"12",sm:"3",xsm:"12"}},[r("v-btn",{attrs:{"x-large":"",block:"",disabled:!t.valid,color:"success"},on:{click:t.register}},[t._v("注册")])],1)],1)],1)],1)],1)],1)],2)],1)])}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:f.a,VCard:m.a,VCardText:v.c,VCol:h.a,VDialog:w.a,VForm:x.a,VIcon:y.a,VRow:_.a,VSpacer:k.a,VTab:O.a,VTabItem:V.a,VTabs:E.a,VTabsSlider:$.a,VTextField:j.a})}}]);