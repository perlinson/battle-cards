(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{207:function(t,e,n){"use strict";var r=n(7),o=n(292),c=n.n(o),l=n(293),d=n.n(l);r.default.use(c.a,{locale:d.a})},254:function(t,e,n){var content=n(345);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(75).default)("56b15182",content,!0,{sourceMap:!1})},296:function(t,e,n){"use strict";var r={},o=(n(344),n(59)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("layouts-header"),t._v(" "),n("div",{staticClass:"container"},[n("br"),t._v(" "),n("Nuxt")],1)],1)}),[],!1,null,null,null);e.a=component.exports;installComponents(component,{LayoutsHeader:n(445).default})},298:function(t,e,n){n(299),t.exports=n(300)},322:function(t,e,n){"use strict";n.r(e),e.default=function(t){var e=t.store,n=t.redirect;if(!e.state.auth.loggedIn)return n("/auth/login")}},344:function(t,e,n){"use strict";n(254)},345:function(t,e,n){var r=n(74)(!1);r.push([t.i,"@import url(https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css);"]),r.push([t.i,"",""]),t.exports=r},346:function(t,e,n){"use strict";n.r(e),n.d(e,"getters",(function(){return r}));var r={isAuthenticated:function(t){return t.auth.loggedIn},getUserInfo:function(t){return t.auth.user}}},347:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"getters",(function(){return l})),n.d(e,"actions",(function(){return d}));var r=n(14),o=(n(46),n(211),function(){return{decks:[],currDeckIndex:{type:Number,default:0}}}),c={setItems:function(t,e){t.decks=e},hideLoading:function(t){t.isLoading=!1},showLoading:function(t){t.isLoading=!0}},l={decks:function(t){return t.decks},currDeck:function(t){if(t.decks.length>0)return t.decks[t.currDeckIndex]}},d={getDeckList:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=t.commit)("showLoading"),n.prev=2,n.next=5,e.$axios.$get("/api/deck/").then((function(t){r("setItems",t.data),r("hideLoading")}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()},joinDeck:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(0,t.commit)("showLoading"),r.prev=2,r.next=5,n.$axios.$patch("/api/deck/".concat(e._id),{players:[e.data.players[0],{player2:{player_name:localStorage.user_name}}]}).then((function(t){n.$router.push({path:"/startgame/"+e._id})}));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},createDeck:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.commit,c=t.dispatch,l=t.rootState,r.next=3,n.$axios.$post("/api/deck/create",{email:l.auth.user.email,deckName:e}).then((function(t){c("getDeckList"),n.$router.push({path:"/startgame/"+t.id})})).catch((function(t){console.log(t),o("hideLoading"),n.$router.push("/error")}));case 3:case"end":return r.stop()}}),r)})))()},updateDeck:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,l,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.commit,c=t.dispatch,l=new FormData(e.target),d=l.get("nameDeck"),r.next=5,n.$axios.$post("/api/deck/createDeck",{deck_name:d}).then((function(t){c("getDeckList"),n.$router.push({path:"/startgame/"+t.id})})).catch((function(t){console.log(t),o("hideLoading"),n.$router.push("/error")}));case 5:case"end":return r.stop()}}),r)})))()}}},348:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"getters",(function(){return l})),n.d(e,"actions",(function(){return d}));var r=n(14),o=(n(46),n(88),function(){return{name_room:"",list_rooms:[],list_rooms2:[],isLoading:!1}}),c={setItems:function(t,e){console.log("list",e),t.list_rooms=e},hideLoading:function(t){t.isLoading=!1},showLoading:function(t){t.isLoading=!0}},l={roomList:function(t){return t.list_rooms}},d={getRoomList:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=t.commit)("showLoading"),n.prev=2,n.next=5,e.$axios.$get("/api/room/").then((function(t){r("setItems",t.data),r("hideLoading")}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[2,7]])})))()},joinRoom:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(0,t.commit)("showLoading"),r.prev=2,r.next=5,n.$axios.$patch("/api/room/".concat(e._id),{players:[e.data.players[0],{player2:{player_name:localStorage.user_name}}]}).then((function(t){n.$router.push({path:"/startgame/"+e._id})}));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},createRoom:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,l,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.commit,c=t.dispatch,l=new FormData(e.target),d=l.get("nameRoom"),r.next=5,n.$axios.$post("/api/room/createRoom",{room_name:d,players:[{player1:{player_name:localStorage.user_name}}]}).then((function(t){c("getRoomList"),n.$router.push({path:"/startgame/"+t.id})})).catch((function(t){console.log(t),o("hideLoading"),n.$router.push("/error")}));case 5:case"end":return r.stop()}}),r)})))()}}},367:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"getters",(function(){return l})),n.d(e,"actions",(function(){return d}));var r=n(14),o=(n(46),function(){return{user_email:{type:String,default:""}}}),c={setUserInfo:function(t,e){t.user_email=e.email}},l={roomList:function(t){return t.list_rooms}},d={login:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.commit,r.prev=1,r.next=4,n.$auth.loginWith("local",{data:e});case 4:o("setUserInfo",e),n.$router.push("/"),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},register:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.commit,r.prev=1,r.next=4,n.$axios.$post("/api/auth/signin",{fullname:e.fullname,email:e.email,password:e.password});case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()}}},368:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"actions",(function(){return l}));n(11);var r=void 0,o=function(){return{gameData:{card:{w:"",h:"",name:"",type:""},field:[{name:"",src:"https://placehold.jp/150x200.png",status:"none",x:"",y:"",type:"",active:!1}],hand:[{name:"1",src:"https://placehold.jp/150x200.png",status:"none",x:"",y:"",type:"",active:!1,fn:function(t,e,n,o,c,l,d,f){r.selectCard(t,e,n,o,c,l,d,f)}},{name:"2",src:"https://placehold.jp/150x200.png",status:"none",x:"",y:"",type:"",active:!1,fn:function(t,e,n,o,c,l,d,f){r.selectCard(t,e,n,o,c,l,d,f)}},{name:"3",src:"https://placehold.jp/150x200.png",status:"none",x:"",y:"",type:"",active:!1,fn:function(t,e,n,o,c,l,d,f){r.selectCard(t,e,n,o,c,l,d,f)}},{name:"4",src:"https://placehold.jp/150x200.png",status:"none",x:"",y:"",type:"",active:!1,fn:function(t,e,n,o,c,l,d,f){r.selectCard(t,e,n,o,c,l,d,f)}},{name:"5",src:"https://placehold.jp/150x200.png",status:"none",x:"",y:"",type:"",active:!1,fn:function(t,e,n,o,c,l,d,f){r.selectCard(t,e,n,o,c,l,d,f)}}],graveyard:[{name:"",src:"https://placehold.jp/150x200.png",status:"none",x:"",y:"",type:"",active:!0}],deck:[{name:"",src:"https://placehold.jp/150x200.png",status:"back",x:"",y:"",type:"",active:!0}]}}},c={updateCoordinate:function(t,e){for(var n=e.length,i=0;i<n;i++){var r=this.getOffsetLeft(e[i]),o=this.getOffsetTop(e[i]);0===i?(this.field[0].x=r,this.field[0].y=o):1===i?(this.graveyard[0].x=r,this.graveyard[0].y=o):i===n-1?(this.deck[0].x=r,this.deck[0].y=o):(this.hand[i-2].x=r,this.hand[i-2].y=o)}}},l={FORMAT_MESSAGE:function(t,e){(0,t.commit)("SET_MESSAGE","".concat((new Date).toLocaleString," ï¼š ").concat(e,"\r\n"))}}},445:function(t,e,n){"use strict";n.r(e);var r=n(14),o=(n(46),{computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{logout:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$auth.logout();case 2:case"end":return e.stop()}}),e)})))()}}}),c=n(59),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[n("div",{staticClass:"container-fluid"},[n("nuxt-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Navbar")]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[n("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0"},[t.isAuthenticated?[n("li",{staticClass:"nav-item",on:{click:t.logout}},[n("nuxt-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"#"}},[t._v("Logout")])],1),t._v(" "),n("li",[n("nuxt-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"/profile"}},[t._v("\n                Profile\n              ")])],1),t._v(" "),n("li",[n("nuxt-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"/deck/builder"}},[t._v("\n                Deck\n              ")])],1)]:[n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"/login"}},[t._v("Login")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link active",attrs:{"aria-current":"page",to:"/register"}},[t._v("Register")])],1)]],2)])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],!1,null,null,null);e.default=component.exports}},[[298,28,2,29]]]);